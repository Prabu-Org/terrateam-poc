engine:
  name: terragrunt
  version: 0.69.3
  dirs:
    "**/terragrunt.hcl":
      when_modified:
        file_patterns:
          - "${DIR}/terragrunt.hcl"
          - "${DIR}/**/*.tf"
          - "${DIR}/**/*.tfvars"
          - "${DIR}/**/*.auto.tfvars"
    ".":
      when_modified:
        file_patterns:
          - "terragrunt.hcl"
          - "**/*.tf"
          - "**/*.tfvars"
          - "**/*.auto.tfvars"

workflows:
  - lock_policy: strict
    tag_query: ""
    terragrunt: true
    plan:
      - type: init
      - type: plan
    apply:
      - type: init
      - type: apply
